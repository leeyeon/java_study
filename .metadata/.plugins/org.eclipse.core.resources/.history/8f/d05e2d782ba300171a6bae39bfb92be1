package m09.day28;

import java.util.ArrayList;

public class Prob1 {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String url1 = "http://localhost/order?prodId=PROD-001&prodName=갤럭시3&price=980000";
		
		String prodName = getParameter(url1, "prodName");
		System.out.println("제품 이름 : "+prodName);
		
		String url2 = "http://localhost/registUser?userId=USER-001&userName=홍길동&address=서울시 강남구&userAge=28";
		String userAddress = getParameter(url2, "address");
		System.out.println("회원 주소 : "+userAddress);
		
	}
	
	private static String getParameter(String url, String paramName) {
		
		String temp = "";
		String checkParam = "";
		String result = "";
		int arrayIndex = 1;
		
		for(int i=0; i<url.length(); i++) {
			char ch = url.charAt(i);
			if(ch=='?') {
				// ? 다음부터
				temp = url.substring(i+1);
			}
		}
		
		//arrayIndex 만큼 배열만들어서 파싱값 넣기
		ArrayList<String> pashing = new ArrayList<String>();
		//System.out.println(arrayIndex);
		
		for(int i=0; i<temp.length(); i++) {
			char ch = temp.charAt(i);
			
			if((ch=='=') ||(ch=='&')) {
				pashing.add(checkParam);
				checkParam = "";
			} else {
				checkParam += ch;
			}
		}
		
		for(int i=0; i<pashing.size(); i++) {
			if(pashing.get(i) == paramName)
				return pashing.get(i+1);
			else 
				return "error";
		}
	}

}
